<!-- <mat-spinner *ngIf="spinnerLoading"></mat-spinner> -->

<mat-card class="example-card" >

    <form [formGroup]="form"  #custForm="ngForm" >
        <mat-card-title>{{formService.from_title}} - {{isNewGroup}}</mat-card-title>

        <div class="row">
            <mat-form-field class="col-md-4">
            <input   matInput formControlName="groupId" placeholder="{{formService.g_id_label}}"
              [(ngModel)]="group.GroupId">
              <mat-error *ngIf="form.get('groupId').invalid">Please enter  group ID.</mat-error>
            </mat-form-field>

        </div>

        <div class="row">
            <mat-form-field class="col-md-4">
              <input   matInput formControlName="groupName" placeholder="{{formService.g_name_label}}"
              [(ngModel)]="group.GroupName">
              <mat-error *ngIf="form.get('groupName').invalid">Please enter  group name.</mat-error>
            </mat-form-field>

        </div>

        <mat-card-actions>
            <a mat-flat-button class="button_card_action" color="primary" (click)="onSubmit()"  >{{formService.submit_btn}}</a>
            <!-- <a *ngIf="isDisableFields" class="button_card_action" mat-flat-button color="primary"  (click)="goBack()">
                {{this.userFormService.back_btn}}
            </a> -->
        </mat-card-actions>

    </form>
</mat-card>

<mat-card class="example-card" >

    <mat-card-title>{{formService.authority_title}} </mat-card-title>

    <table mat-table [dataSource]="authDataSource">
        <ng-container matColumnDef="index">
            <th mat-header-cell *matHeaderCellDef> {{formService.tbNo}} </th>
            <td mat-cell *matCellDef="let element; let i = index;"> {{i+1}} </td>
          </ng-container>


          <ng-container matColumnDef="application">
              <th mat-header-cell *matHeaderCellDef> {{formService.tbApp}} </th>
              <td mat-cell *matCellDef="let element"> {{element.GroupId}} </td>
          </ng-container>

          <ng-container matColumnDef="status">
              <th mat-header-cell *matHeaderCellDef> {{formService.tbStatus}} </th>
              <td mat-cell *matCellDef="let element"> {{element.GroupName}} </td>
          </ng-container>

          <ng-container matColumnDef="expire">
              <th mat-header-cell *matHeaderCellDef> {{formService.tbExp}} </th>
              <td mat-cell *matCellDef="let element"> {{element.GroupName}} </td>
          </ng-container>

          <ng-container matColumnDef="create">
              <th mat-header-cell *matHeaderCellDef> {{formService.tbCreate}} </th>
              <td mat-cell *matCellDef="let element"> {{element.GroupName}} </td>
          </ng-container>

          <ng-container matColumnDef="edit">
              <th mat-header-cell *matHeaderCellDef> {{formService.tbEdit}} </th>
              <td mat-cell *matCellDef="let element"> {{element.GroupName}} </td>
          </ng-container>

          <ng-container matColumnDef="delete">
              <th mat-header-cell *matHeaderCellDef> {{formService.tbDelete}} </th>
              <td mat-cell *matCellDef="let element"> {{element.GroupName}} </td>
          </ng-container>

          <ng-container matColumnDef="view">
              <th mat-header-cell *matHeaderCellDef> {{formService.tbView}} </th>
              <td mat-cell *matCellDef="let element"> {{element.GroupName}} </td>
          </ng-container>

          <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef> {{formService.tbAction}} </th>
              <td mat-cell *matCellDef="let element">
                <i class="far fa-edit"  [routerLink]="['/trade/userEdit',element.LoginName,'SEARCH_USER_SCR']" matTooltip="{{formService.del_tip}}"></i>
              </td>
            </ng-container>

          <tr mat-header-row *matHeaderRowDef="authDisplayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: authDisplayedColumns;"></tr>
    </table>

    <a mat-flat-button class="button_card_action" color="primary" (click)="addAuthority()"  >{{formService.AddAuthority_btn}}</a>

    <a class="button_card_action" mat-flat-button color="primary"  (click)="goBack()">
        Back
      </a>
</mat-card>
