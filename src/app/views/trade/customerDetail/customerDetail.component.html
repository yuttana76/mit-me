<mat-card class="cust-container">

  <!-- <div class="spin-div">
      <mat-spinner *ngIf="spinnerLoading" ></mat-spinner>
  </div> -->

  <mat-spinner *ngIf="spinnerLoading"></mat-spinner>

  <form [formGroup]="form" (submit)="onSubmit()" #custForm="ngForm" *ngIf="!spinnerLoading">

    <mat-card-title>Customer Detail</mat-card-title>
    <div class="border border-primary">
      <div class="row">
        <mat-radio-group class="custTyperadio-group" formControlName="custType" [(ngModel)]="card_Type">
          <mat-radio-button class="example-radio-button" *ngFor="let clientType of clientTypeList" [value]="clientType.ClientType_Code"
            (change)="clientTypeChange($event)">
            {{clientType.ClientType_Desc}}
          </mat-radio-button>
        </mat-radio-group>
      </div>

      <div class='person_div'>
        <!-- Thai info -->
        <div class="row">
          <mat-form-field class="col-md-4">
            <mat-select formControlName="bf_title_th" placeholder="Before Title(TH)" [(ngModel)]="thaiTitle">
              <mat-option *ngFor="let obj of thaiTitleList" [value]="obj.Title_Name">
                {{obj.Prefix_Name}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="form.get('bf_title_th').invalid">Please choose customer type.</mat-error>
          </mat-form-field>
        </div>
        <div class="row">
          <mat-form-field class="col-md-4">
            <input matInput formControlName="firstName_th" placeholder="First name(TH)">
            <mat-error *ngIf="form.get('firstName_th').invalid">Please enter a first name.</mat-error>
          </mat-form-field>

          <mat-form-field class="col-md-4">
            <input matInput formControlName="lastName_th" placeholder="Last name(TH)">
            <mat-error *ngIf="form.get('lastName_th').invalid">Please enter a first name.</mat-error>
          </mat-form-field>
        </div>


        <!-- English info -->
        <div class="row">
          <mat-form-field class="col-md-4">
            <mat-select formControlName="bf_title_en" placeholder="Before Title(EN)" [(ngModel)]="engTitle">
              <mat-option *ngFor="let obj of engTitlesList" [value]="obj.Title_Name">
                {{obj.Prefix_Name}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="form.get('bf_title_en').invalid">Please choose customer type.</mat-error>
          </mat-form-field>
        </div>

        <div class="row">
          <mat-form-field class="col-md-4">
            <input matInput formControlName="firstName_en" placeholder="First name(EN)">
            <mat-error *ngIf="form.get('firstName_en').invalid">Please enter a first name.</mat-error>
          </mat-form-field>

          <mat-form-field class="col-md-4">
            <input matInput formControlName="lastName_en" placeholder="Last name(EN)">
            <mat-error *ngIf="form.get('lastName_en').invalid">Please enter a last name.</mat-error>
          </mat-form-field>
        </div>

        <div class="row">
          <mat-form-field class="col-sm-12 col-md-4">
            <mat-select formControlName="nationality" placeholder="Nationality" [(ngModel)]="Nation_Code" (selectionChange) ="nationChange($event)">
              <mat-option *ngFor="let obj of nationList" [value]="obj.Nation_Code">
                {{obj.Nation_Desc}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="form.get('nationality').invalid">Please choose Nationality.</mat-error>
          </mat-form-field>
        </div>
      </div>


    </div>

    <div class="border border-primary section-2">

      <div class="row sex-div" *ngIf="card_Type == CLIENT_TYPE_PERSION ">
        <mat-radio-group class="sex-radio-group" formControlName="sex" [(ngModel)]="sex">
          <mat-radio-button class="example-radio-button" value="M">Male</mat-radio-button>
          <mat-radio-button class="example-radio-button" value="F">Female</mat-radio-button>
        </mat-radio-group>
      </div>

      <div class="row">
        <mat-form-field class="col-md-4">
          <mat-select formControlName="groupCdoe" placeholder="Card Type" [(ngModel)]="Group_Code">
            <mat-option *ngFor="let obj of PIDTypeList" [value]="obj.PIDType_Code">
              {{obj.PIDType_Desc}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="form.get('groupCdoe').invalid">Please choose Card Type.</mat-error>
        </mat-form-field>
      </div>

      <div class="row">
        <mat-form-field class="col-md-4">
          <input matInput formControlName="custId" placeholder="Card No.">
          <mat-error *ngIf="form.get('custId').invalid">Please enter a Card No.</mat-error>
        </mat-form-field>
      </div>

      <div class="row">
        <mat-form-field class="col-md-4">
          <input matInput [matDatepicker]="dobDate" formControlName="dobDate" placeholder="date of birth /Register date">
          <mat-datepicker-toggle matSuffix [for]="dobDate"></mat-datepicker-toggle>
          <mat-datepicker #dobDate></mat-datepicker>
          <mat-error *ngIf="form.get('dobDate').invalid ">Please correct date of birth /Register date</mat-error>
        </mat-form-field>

        <mat-form-field class="col-md-4 ">
          <input matInput [matDatepicker]="compExpDate" formControlName="compExpDate" placeholder="Expire date">
          <mat-datepicker-toggle matSuffix [for]="compExpDate"></mat-datepicker-toggle>
          <mat-datepicker #compExpDate></mat-datepicker>
          <mat-error *ngIf="form.get('compExpDate').invalid ">Please correct Expire date.</mat-error>
        </mat-form-field>
      </div>

      <div class="row">
        <mat-form-field class="col-md-4">
          <input matInput formControlName="mobile" placeholder="Mobile number.">
          <mat-error *ngIf="form.get('mobile').invalid">Please enter mobile number.</mat-error>
        </mat-form-field>

        <mat-form-field class="col-md-4">
          <input matInput formControlName="email" placeholder="Email address">
          <mat-error *ngIf="form.get('email').invalid">Please enter Email address.</mat-error>
        </mat-form-field>
      </div>

      <!-- FC (IPFG) -->
      <div class="row">
        <mat-form-field class="col-md-4">
          <input matInput formControlName="MktId" placeholder="FC (IPFG)">
          <mat-error *ngIf="form.get('MktId').invalid">Please enter FC (IPFG).</mat-error>
        </mat-form-field>
      </div>
    </div>

    <mat-card-title style="margin-top:20px;">Address</mat-card-title>
    <!-- Census Address -->
    <mat-tab-group>
      <mat-tab>
        <ng-template mat-tab-label>
          <!-- <mat-icon svgIcon="thumbs-up"></mat-icon> -->
          Census Address
        </ng-template>
        <!-- <mat-card-title>Census Address</mat-card-title> -->
        <div class="border border-primary addr-border">
          <div class="row">
            <mat-form-field class="col-md-4">
              <input matInput formControlName="ce_addr1" placeholder="Address number">
              <mat-error *ngIf="form.get('ce_addr1').invalid">Please enter Address number.</mat-error>
            </mat-form-field>

            <mat-form-field class="col-md-4">
              <input matInput formControlName="ce_addr2" placeholder="Floor Building">
              <mat-error *ngIf="form.get('ce_addr2').invalid">Please enter Floor Building.</mat-error>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="col-md-4">
              <mat-select formControlName="ce_country" placeholder="Coutry" (selectionChange) ="ceCountryChange($event)" >
                <mat-option *ngFor="let obj of ce_countryList" [value]="obj.Country_ID">
                  {{obj.Name_Thai}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="form.get('ce_country').invalid">Please choose Coutry.</mat-error>
            </mat-form-field>

          </div>

          <div class="row">
            <mat-form-field class="col-md-4">
              <mat-select formControlName="ce_province" placeholder="Province" [(ngModel)]="ce_province"
              (selectionChange) ="ceProvinceChange($event)">
                <mat-option *ngFor="let obj of ce_provinceList" [value]="obj.Province_ID">
                  {{obj.Name_Thai}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="form.get('ce_province').invalid">Please choose Province.</mat-error>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="col-md-4">
              <mat-select formControlName="ce_amphure" placeholder="Districe" [(ngModel)]="ce_amphure"
              (selectionChange) ="ceAmphurChange($event)">
                <mat-option *ngFor="let obj of ce_amphursList" [value]="obj.Amphur_ID">
                  {{obj.Name_Thai}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="form.get('ce_amphure').invalid">Please choose Districe.</mat-error>
            </mat-form-field>

            <mat-form-field class="col-md-4">
              <mat-select formControlName="ce_tambon" placeholder="Sub District" [(ngModel)]="ce_tambon"
              (selectionChange) ="ceTambonChange($event)">
                <mat-option *ngFor="let obj of ce_tambonsList" [value]="obj.Tambon_ID">
                  {{obj.Name_Thai}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="form.get('ce_tambon').invalid">Please choose Sub District.</mat-error>
            </mat-form-field>
          </div>
          <div class="row">
            <mat-form-field class="col-md-4">
              <input matInput formControlName="ce_postCode" placeholder="Post code">
              <mat-error *ngIf="form.get('ce_postCode').invalid">Please enter post code.</mat-error>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="col-md-4">
              <input matInput formControlName="ce_tel" placeholder="Telephone number">
              <mat-error *ngIf="form.get('ce_tel').invalid">Please enter telephone number.</mat-error>
            </mat-form-field>

            <mat-form-field class="col-md-4">
              <input matInput formControlName="ce_fax" placeholder="Fax number">
              <mat-error *ngIf="form.get('ce_fax').invalid">Please enter Fax number.</mat-error>
            </mat-form-field>
          </div>
        </div>
      </mat-tab>

      <!-- Mailing Address (START)-->
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon></mat-icon>
          Mailing Address
        </ng-template>

        <div class="border border-primary addr-border">
          <div class="row">
            <section style="margin-top: 20px;margin-left: 30px">
              <mat-checkbox #asRegisterAddr>Same as register address</mat-checkbox>
            </section>
          </div>

          <div class="row">
            <mat-form-field class="col-md-4">
              <input matInput formControlName="ma_addr1" placeholder="Address number">
              <mat-error *ngIf="form.get('ma_addr1').invalid">Please enter Address number.</mat-error>
            </mat-form-field>

            <mat-form-field class="col-md-4">
              <input matInput formControlName="ma_addr2" placeholder="Floor Building">
              <mat-error *ngIf="form.get('ma_addr2').invalid">Please enter Floor Building.</mat-error>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="col-md-4">
              <mat-select formControlName="ma_country" placeholder="Coutry" [(ngModel)]="ma_country"
              (selectionChange) ="maCountryChange($event)">
                <mat-option *ngFor="let obj of ce_countryList" [value]="obj.Country_ID">
                  {{obj.Name_Thai}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="form.get('ma_country').invalid">Please choose Coutry.</mat-error>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="col-md-4">
              <mat-select formControlName="ma_province" placeholder="Province" [(ngModel)]="ma_province"
              (selectionChange) ="maProvinceChange($event)">
                <mat-option *ngFor="let obj of ma_provinceList" [value]="obj.Province_ID">
                  {{obj.Name_Thai}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="form.get('ma_province').invalid">Please choose Province.</mat-error>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="col-md-4">
              <mat-select formControlName="ma_amphur" placeholder="Districe" [(ngModel)]="ma_amphur"
              (selectionChange) ="maAmphurChange($event)">
                <mat-option *ngFor="let obj of ma_amphursList" [value]="obj.Amphur_ID">
                  {{obj.Name_Thai}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="form.get('ma_amphur').invalid">Please choose Districe.</mat-error>
            </mat-form-field>

            <mat-form-field class="col-md-4">
              <mat-select formControlName="ma_tambon" placeholder="Sub District" [(ngModel)]="ma_tambon"
              (selectionChange) ="maTambonChange($event)">
                <mat-option *ngFor="let obj of ma_tambonsList" [value]="obj.Tambon_ID">
                  {{obj.Name_Thai}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="form.get('ma_tambon').invalid">Please choose Sub District.</mat-error>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="col-md-4">
              <input matInput formControlName="ma_postcode" placeholder="Post code">
              <mat-error *ngIf="form.get('ma_postcode').invalid">Please enter post code.</mat-error>
            </mat-form-field>
          </div>
          <div class="row">
            <mat-form-field class="col-md-4">
              <input matInput formControlName="ma_tel" placeholder="Tel number">
              <mat-error *ngIf="form.get('ma_tel').invalid">Please enter Tel number.</mat-error>
            </mat-form-field>

            <mat-form-field class="col-md-4">
              <input matInput formControlName="ma_fax" placeholder="Fax number">
              <mat-error *ngIf="form.get('ma_fax').invalid">Please enter Fax number.</mat-error>
            </mat-form-field>
          </div>

          <!-- Mailing Address (END)-->
        </div>
      </mat-tab>
    </mat-tab-group>



    <mat-card-actions><button mat-raised-button color="primary" type='submit'>Submit</button></mat-card-actions>


  </form>

</mat-card>
